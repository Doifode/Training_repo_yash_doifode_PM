<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- BOOTSTRAP LINK -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>
<body>
    <div class="container border mt-5 p-5 bg-info">
        <div class="row ">
            <div class="col-md-12 bg-warning">
                <h1 class="text-center py-2 fw-bold "> Billing Machine</h1>
            </div>
            <div class="row mb-3 mt-3">
                <div class="col-md-6">
                    <div class="row mb-3 mt-3">
                        <div class="col-md-12">
                            <label for="">Customer Name:</label>
                            <input type="text" placeholder="Enter customer name " class="form-control"
                                name="customername" id="custName">
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="row mb-3 mt-3">
                        <div class="col-md-12">
                            <label for="">Mobile:</label>
                            <input type="text" placeholder="Enter mobile " class="form-control" id="custMobile">
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mb-3 mt-3">
                <div class="col-md-4">
                    <label for="">Product Name:</label>
                    <select name="" id="prodName" onchange="GenerateTotal()" class="form-control ">
                        <option class="text-center" value="">-Products-</option>
                        <option value="Rice">Rice</option>
                        <option value="Biscut">Biscut</option>
                        <option value="Chocklet">Chocklet</option>
                        <option value="Ice_creame">Ice creame</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <label for="">Price:</label>
                    <input type="text" placeholder="Price " class="form-control" id="prodPrice">
                </div>
                <div class="col-md-2">
                    <label for="">Quantity:</label>
                    <input type="text" onkeyup="LastTotal()" placeholder="Quantity " class="form-control"
                        id="prodQuantity">
                </div>
                <div class="col-md-4   ">
                    <div class="border-bottom"><br>
                        <h4> Total:<span id="totalamt"> </span></h4>
                    </div>
                </div>
            </div>
            <div class="row  ">
                <button class="btn border-0 mt-2 btn-success btn-sm  p-2" onclick="SaveDetails()">Save</button>
            </div>
        </div>
        <div>
        </div>
    </div>
    <div class="container">
        <div id="tableDiv">
            <table>
                <tbody id="Tbody">
                    <tr>
                        <th>Name</th>
                        <th>Mobile</th>
                        <th>Product</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                    </tr>

                </tbody>
            </table>

        </div>
    </div>
    <script>
        var custName = document.getElementById('custName')
        var custMobile = document.getElementById('custMobile')
        var prodName = document.getElementById("prodName")
        var prodPrice = document.getElementById("prodPrice")
        var totalamt = document.getElementById('totalamt')
        var prodQuantity = document.getElementById('prodQuantity')
        var tableDiv = document.getElementById('tableDiv')
        var Tbody = document.getElementById('Tbody')

        const CustomerDetailArray = []
        const SaveDetails = () => {
            let customemrDetailObj = {
                name: custName.value,
                mobile: custMobile.value,
                productname: prodName.value,
                total: totalamt.value,
                price: prodPrice.value,
                prodQuantity
            }
            CustomerDetailArray.push(customemrDetailObj)
            console.log(CustomerDetailArray)

let table = document.createElement('table');
let headerRow = document.createElement('tr')
CustomerDetailArray.forEach(theader =>{
   let  header = document.createElement('th');
    let  textnode = document.createTextNode(theader.name);
    header.appendChild(textnode)
    headerRow.appendChild(header)
})


        }
        function GenerateTotal() {

            switch (prodName.value) {
                case "Rice": {
                    prodPrice.value = 50;
                    break;
                }
                case "Biscut": {
                    prodPrice.value = 51; break;

                }
                case "Chocklet": {
                    prodPrice.value = 53; break;  
                }
                case "Ice_creame": {
                    prodPrice.value = 54; break;
                }
            }
        }
        function LastTotal() {
            totalamt.innerText = " " + " " + prodPrice.value * prodQuantity.value + ' '+" Rs "
            console.log('hi')
        }

    </script>
</body>

</html>